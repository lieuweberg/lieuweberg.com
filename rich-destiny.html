<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rich-destiny</title>

    <meta content="rich-destiny | A Discord rich presence tool for Destiny 2" property="og:title">
    <meta content="Plug-and-play program that puts whatever you're currently doing in Destiny 2 in your Discord status.
        rich-destiny features modern icons, no flaky screenshots or complicated interfaces and runs as a background process -- it's never in your face." property="og:description">
    <meta content="/images/rich-destiny-preview.png" property="og:image">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="theme-color" content="#6C82CF">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cantarell&family=Fira+Sans&display=swap">
    <link rel="stylesheet" href="/css/rich-destiny.css">
    <link rel="icon" type="image/x-icon" href="/images/icons/rich-destiny.ico">
</head>
<body>
    <noscript>You need to enable JavaScript for full functionality.</noscript>

    <div id="content-wrapper"> 
        <div id="title">
            <img src="/images/icons/rich-destiny.png">
            <h1>rich-destiny</h1>
        </div>
        
        <div class="container">
            <p style="font-size: 1.2rem;">rich-destiny is a discord rich presence tool for destiny 2<br/></p>

            <div class="container" id="example-presences"></div>
            
            <small class="d-none" id="mobile-notice">Note: This site is made mostly for Desktop. Please view on there for
                the best experience (this page may overflow on mobile) and <a href="https://imgur.com/a/WZ1IqX5">example images</a>.</small>

            <p><br/>Data is pulled fresh from the Bungie API, making updating the status as instantaneous as it can be. This program is made to be plug-and-play, needing no
                configuration apart from authorising with your Bungie.net account once. rich-destiny has 20+ unique images linked to various corresponding activities and
                three representing the classes (Titan, Hunter, and Warlock). These are official images made by Bungie, only edited to be white on black instead of the
                default black on white, to make them suitable for both Discord themes.</p>

            <p><br/>This program runs when you start your computer and automatically updates itself with the latest non-prerelease version from GitHub releases.
                By not having a GUI directly, but instead communicating with this website, its download size, memory and CPU usage are severely less
                (~22MB, ~7MB and ~0.0%, respectively) compared to that of other software with similar functionality. Even though it communicates with this site,
                no data ever leaves your computer. This site is static and is communicated with by having the program run a lightweight web server locally.</p>

            <!-- <a href="#instructions" class="btn" id="download"><img src="https://icongr.am/clarity/download.svg?size=20&color=ffffff"> Download</a>
            <a href="#controls" class="btn" id="dashboard"><img src="https://icongr.am/clarity/cog.svg?size=20&color=ffffff"> Dashboard</a> -->
        </div>

        <div class="container" id="controls">
            <div class="text-center" id="loader">
                <div class="spinner-border" style="width: 3rem; height: 3rem;"></div>
                <p class="sr-only">Loading...</p>
            </div>
            <div class="d-none" id="controls-content">
                <div class="row">
                    <div class="col-md-9">
                        <h1 id="status">NOT INSTALLED</h1><h1> // </h1><h3 id="name">rich-destiny</h3><br/>
                        <h5>Current activity: </h5><p style="display: inline;"><span id="activity">none</span><br/><br/>
                        Debug: <span id="debug">NA</span><br/>
                        Version: <span id="version">none</span></p>
                    </div>
                    <div class="col-md-3">
                        <a href="http://localhost:35893/login" target="_blank" class="btn" title="In case the refresh token has expired, or you want to log in with a different account"
                            data-toggle="tooltip" data-placement="top"><img src="https://icongr.am/clarity/link.svg?size=20&color=ffffff"> Reauthenticate&thinsp;&thinsp;&thinsp;</a>
                        <!-- <a href="#" class="btn" title="Disable automatic updates" data-toggle="tooltip" data-placement="top">
                            <img src="https://icongr.am/clarity/download.svg?size=20&color=ffffff"> <span id="update-status">Disable</span> Updates</a> -->
                        <!-- <a onclick="javascript:uninstallService()" class="btn" title="Removes the service from the service manager, meaning rich-destiny won't start with your computer anymore" data-toggle="tooltip"
                            data-placement="top"><img src="https://icongr.am/clarity/disconnect.svg?size=20&color=ffffff"> <span id="update-status">Uninstall</span> Service</a> -->
                    </div>
                </div>
                <div>
                    <br/><h4>Settings</h4>
                    <label for="orbit-text">Orbit state text:</label>
                    <input type="text" name="orbit-text" id="orbit-text" placeholder="/join your-id"> <img data-toggle="tooltip" src="https://icongr.am/clarity/info.svg?size=20&color=ffffff"
                    title="Text to display in the presence state (second line) when in orbit. Leave blank for no state." data-placement="top">
                    <br/><br/><a onclick="saveSettings()" class="btn"> <img src="https://icongr.am/clarity/floppy.svg?size=20&color=ffffff">Save Settings</a><br/>
                    <p class="d-none" id="settings-save-res"></p>
                </div>
            </div>
        </div>

        <div class="container">
            <h1>Installation</h1>

            <p style="font-size: 1.1rem;"><br/>Albeit installation being incredibly easy, this small step-by-step instruction should help preventing common pitfalls or confusion.
                If you need further help, you can also ask questions on the <a href="https://discord.gg/UNU4UXp" target="_blank" rel="noopener noreferrer">Discord server</a>.</p>
            <ol>
                <li>Download rich-destiny from <a href="https://github.com/lieuweberg/rich-destiny/releases" target="_blank" rel="noopener noreferrer">GitHub releases</a> or click
                    <a href="#" target="_blank" rel="noopener noreferrer" id="direct-download">&lt;loading...&gt;</a> to download the latest version directly (also from GitHub releases). Make 
                    sure to download the executable (<code>.exe</code>) to its own folder, since it creates new files. I recommend creating this folder: <code>C:\Program Files\rich-destiny</code>
                    and downloading it there. The executable creates new files when run (storage, logs), so you probably don't want it to clutter any important folders with that.
                </li>

                <li>Once you've found a neat location for the executable, double click it. This is likely to bring up a prompt noting the executable is unsecure.
                    It isn't (you can view the source code yourself on <a href="https://github.com/lieuweberg/rich-destiny" target="_blank" rel="noopener noreferrer"></a> GitHub).
                    If you see the prompt, click "More info" and then "run anyway". This prompt will go away over time (as more people use it) or if I buy a code signing certificate, which is
                    which is <a href="https://sectigo.com/signing-certificates/code-signing" target="_blank" rel="noopener noreferrer">fairly expensive</a>. Another prompt will pop up
                    asking for administrator permissions. Unfortunately, this is needed for installing itself into the service manager so it can start up automatically. Click "Allow".
                </li>

                <li>Now a command prompt should appear, with a cool ascii rich-destiny logo and some informational text as to what the program is doing. There should be no
                    errors (if there are, head to the support server), and any moment your browser should open (a new tab) to log in with Bungie.net. When you finish the authorisation
                    flow, you will end up on a page saying "Success!". This is all the setup you need, you can now close the command prompt by pressing Enter or closing it
                    with the close button.
                </li>

                <li>That's it. If you refresh this page, you should now see the box above these instructions unblurred! This is the "configuration panel".<br/><br/>As long as you
                    play Destiny 2 once every 90 days, there is no need to visit this page again. If this program no longer does what it's supposed to do, please head to the
                    support server and explain your issue.</li>
            </ol>
        </div>

        <div id="footer">
            <p>Made by lieuwe_berg</p>
            <a href="https://github.com/lieuweberg/rich-destiny" target="_blank">GitHub Repo</a>
            <a href="https://discord.gg/UNU4UXp" target="_blank" class="footer-last">Discord Help</a>
        </div>
    </div>
</body>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="/js/rich-destiny.js"></script>

</html>